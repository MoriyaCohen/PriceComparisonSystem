2025-08-29 00:04:59.569 +03:00 [INF] יישום PriceComparison הופעל בהצלחה
2025-08-29 00:05:00.262 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-29 00:05:00.272 +03:00 [INF] ✅ חיבור למסד הנתונים בוצע בהצלחה
2025-08-29 00:05:00.276 +03:00 [INF] תיקיית XML מקומית: C:\Projects\PriceComparisonSystem\PriceComparison.Api\LocalXmlData
2025-08-29 00:05:00.282 +03:00 [INF] 📦 התחלת טעינת קבצי XML בעת עליית השרת...
2025-08-29 00:05:00.283 +03:00 [INF] מתחיל טעינה מחדש של נתוני XML
2025-08-29 00:05:00.284 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:05:00.286 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:05:00.287 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:05:00.397 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:05:00.459 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:05:00.535 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:05:00.536 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:05:00.543 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:05:00.545 +03:00 [INF] ✅ טעינת נתוני XML הושלמה בהצלחה
2025-08-29 00:05:00.551 +03:00 [INF] מצב נתונים מקומיים: true, 5958 מוצרים, 1 רשתות
2025-08-29 00:05:00.552 +03:00 [INF] 📊 נטענו: 5958 מוצרים מ-1 רשתות ו-2 סניפים
2025-08-29 00:05:00.587 +03:00 [INF] Now listening on: http://localhost:5162
2025-08-29 00:05:00.588 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 00:05:00.589 +03:00 [INF] Hosting environment: Development
2025-08-29 00:05:00.589 +03:00 [INF] Content root path: C:\Projects\PriceComparisonSystem\PriceComparison.Api
2025-08-29 00:05:07.890 +03:00 [INF] Application is shutting down...
2025-08-29 00:05:07.898 +03:00 [INF] 🛑 XmlDataPreloaderHostedService נעצר
2025-08-29 00:05:14.918 +03:00 [INF] יישום PriceComparison הופעל בהצלחה
2025-08-29 00:05:15.540 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-29 00:05:15.556 +03:00 [INF] ✅ חיבור למסד הנתונים בוצע בהצלחה
2025-08-29 00:05:15.561 +03:00 [INF] תיקיית XML מקומית: C:\Projects\PriceComparisonSystem\PriceComparison.Api\LocalXmlData
2025-08-29 00:05:15.567 +03:00 [INF] 📦 התחלת טעינת קבצי XML בעת עליית השרת...
2025-08-29 00:05:15.570 +03:00 [INF] מתחיל טעינה מחדש של נתוני XML
2025-08-29 00:05:15.573 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:05:15.574 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:05:15.575 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:05:15.632 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:05:15.666 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:05:15.724 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:05:15.730 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:05:15.737 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:05:15.742 +03:00 [INF] ✅ טעינת נתוני XML הושלמה בהצלחה
2025-08-29 00:05:15.746 +03:00 [INF] מצב נתונים מקומיים: true, 5958 מוצרים, 1 רשתות
2025-08-29 00:05:15.748 +03:00 [INF] 📊 נטענו: 5958 מוצרים מ-1 רשתות ו-2 סניפים
2025-08-29 00:05:15.772 +03:00 [INF] Now listening on: http://localhost:5162
2025-08-29 00:05:15.776 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 00:05:15.777 +03:00 [INF] Hosting environment: Development
2025-08-29 00:05:15.778 +03:00 [INF] Content root path: C:\Projects\PriceComparisonSystem\PriceComparison.Api
2025-08-29 00:08:09.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5162/api/pricecomparison/local-data-status - null null
2025-08-29 00:08:09.404 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:08:09.446 +03:00 [INF] Executing endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.GetLocalDataStatus (PriceComparison.Api)'
2025-08-29 00:08:09.481 +03:00 [INF] Route matched with {action = "GetLocalDataStatus", controller = "PriceComparison"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PriceComparison.Application.DTOs.LocalDataStatusDto]] GetLocalDataStatus() on controller PriceComparison.Api.Controllers.PriceComparisonController (PriceComparison.Api).
2025-08-29 00:08:09.492 +03:00 [INF] מקבל מצב נתונים מקומיים
2025-08-29 00:08:09.496 +03:00 [WRN] אין נתונים זמינים לחיפוש. מנסה לטעון...
2025-08-29 00:08:09.499 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:08:09.500 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:08:09.504 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:08:09.842 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:08:09.963 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:08:10.169 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:08:10.171 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:08:10.187 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:08:10.208 +03:00 [INF] מצב נתונים מקומיים: true, 5958 מוצרים, 1 רשתות
2025-08-29 00:08:10.212 +03:00 [INF] מצב נתונים מקומיים: true, 5958 מוצרים, 1 רשתות
2025-08-29 00:08:10.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'PriceComparison.Application.DTOs.LocalDataStatusDto'.
2025-08-29 00:08:10.340 +03:00 [INF] Executed action PriceComparison.Api.Controllers.PriceComparisonController.GetLocalDataStatus (PriceComparison.Api) in 846.6443ms
2025-08-29 00:08:10.345 +03:00 [INF] Executed endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.GetLocalDataStatus (PriceComparison.Api)'
2025-08-29 00:08:10.356 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5162/api/pricecomparison/local-data-status - 200 null application/json; charset=utf-8 996.1848ms
2025-08-29 00:15:05.266 +03:00 [INF] יישום PriceComparison הופעל בהצלחה
2025-08-29 00:15:05.879 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-29 00:15:05.895 +03:00 [INF] ✅ חיבור למסד הנתונים בוצע בהצלחה
2025-08-29 00:15:05.901 +03:00 [INF] תיקיית XML מקומית: C:\Projects\PriceComparisonSystem\PriceComparison.Api\LocalXmlData
2025-08-29 00:15:05.910 +03:00 [INF] 📦 התחלת טעינת קבצי XML בעת עליית השרת...
2025-08-29 00:15:05.916 +03:00 [INF] מתחיל טעינה מחדש של נתוני XML
2025-08-29 00:15:05.919 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:15:05.924 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:15:05.927 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:15:05.979 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:15:06.011 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:15:06.068 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:15:06.071 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:15:06.081 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:15:06.085 +03:00 [INF] ✅ טעינת נתוני XML הושלמה בהצלחה
2025-08-29 00:15:06.092 +03:00 [INF] מצב נתונים מקומיים: true, 5958 מוצרים, 1 רשתות
2025-08-29 00:15:06.097 +03:00 [INF] 📊 נטענו: 5958 מוצרים מ-1 רשתות ו-2 סניפים
2025-08-29 00:15:06.128 +03:00 [INF] Now listening on: http://localhost:5162
2025-08-29 00:15:06.131 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 00:15:06.134 +03:00 [INF] Hosting environment: Development
2025-08-29 00:15:06.135 +03:00 [INF] Content root path: C:\Projects\PriceComparisonSystem\PriceComparison.Api
2025-08-29 00:15:11.773 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5162/api/barcode/validate - null null
2025-08-29 00:15:11.783 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:15:11.787 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5162/api/barcode/validate - 204 null null 14.6618ms
2025-08-29 00:15:11.793 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5162/api/barcode/validate - application/json 27
2025-08-29 00:15:11.796 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:15:11.807 +03:00 [INF] Executing endpoint 'PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api)'
2025-08-29 00:15:11.818 +03:00 [INF] Route matched with {action = "ValidateBarcode", controller = "Barcode"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PriceComparison.Application.DTOs.BarcodeValidationResponseDto]] ValidateBarcode(PriceComparison.Application.DTOs.BarcodeValidationRequestDto) on controller PriceComparison.Api.Controllers.BarcodeController (PriceComparison.Api).
2025-08-29 00:15:11.836 +03:00 [INF] מתחיל בדיקת ברקוד: 7290000042008
2025-08-29 00:15:11.842 +03:00 [INF] תוצאת בדיקת ברקוד 7290000042008: true
2025-08-29 00:15:11.848 +03:00 [INF] Executing OkObjectResult, writing value of type 'PriceComparison.Application.DTOs.BarcodeValidationResponseDto'.
2025-08-29 00:15:11.856 +03:00 [INF] Executed action PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api) in 34.8294ms
2025-08-29 00:15:11.858 +03:00 [INF] Executed endpoint 'PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api)'
2025-08-29 00:15:11.860 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5162/api/barcode/validate - 200 null application/json; charset=utf-8 66.2139ms
2025-08-29 00:15:11.863 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5162/api/pricecomparison/search-local - null null
2025-08-29 00:15:11.866 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:15:11.867 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5162/api/pricecomparison/search-local - 204 null null 3.4683ms
2025-08-29 00:15:11.869 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5162/api/pricecomparison/search-local - application/json 27
2025-08-29 00:15:11.871 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:15:11.873 +03:00 [INF] Executing endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api)'
2025-08-29 00:15:11.879 +03:00 [INF] Route matched with {action = "SearchProductByBarcodeLocal", controller = "PriceComparison"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PriceComparison.Application.DTOs.PriceComparisonResponseDto]] SearchProductByBarcodeLocal(PriceComparison.Application.DTOs.BarcodeSearchRequestDto) on controller PriceComparison.Api.Controllers.PriceComparisonController (PriceComparison.Api).
2025-08-29 00:15:11.884 +03:00 [INF] מתחיל חיפוש מקומי עבור ברקוד: 7290000042008
2025-08-29 00:15:11.888 +03:00 [INF] מחפש ברקוד: 7290000042008
2025-08-29 00:15:11.888 +03:00 [WRN] אין נתונים זמינים לחיפוש. מנסה לטעון...
2025-08-29 00:15:11.889 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:15:11.889 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:15:11.890 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:15:11.949 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:15:11.976 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:15:12.038 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:15:12.039 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:15:12.044 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:15:12.049 +03:00 [INF] מוצר לא נמצא עבור ברקוד: 7290000042008
2025-08-29 00:15:12.051 +03:00 [INF] תוצאות חיפוש מקומי עבור ברקוד 7290000042008: false, 0 מוצרים
2025-08-29 00:15:12.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'PriceComparison.Application.DTOs.PriceComparisonResponseDto'.
2025-08-29 00:15:12.068 +03:00 [INF] Executed action PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api) in 188.2835ms
2025-08-29 00:15:12.070 +03:00 [INF] Executed endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api)'
2025-08-29 00:15:12.072 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5162/api/pricecomparison/search-local - 200 null application/json; charset=utf-8 203.2885ms
2025-08-29 00:16:01.368 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5162/api/barcode/validate - null null
2025-08-29 00:16:01.369 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:16:01.370 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5162/api/barcode/validate - 204 null null 2.7067ms
2025-08-29 00:16:01.373 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5162/api/barcode/validate - application/json 27
2025-08-29 00:16:01.374 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:16:01.375 +03:00 [INF] Executing endpoint 'PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api)'
2025-08-29 00:16:01.376 +03:00 [INF] Route matched with {action = "ValidateBarcode", controller = "Barcode"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PriceComparison.Application.DTOs.BarcodeValidationResponseDto]] ValidateBarcode(PriceComparison.Application.DTOs.BarcodeValidationRequestDto) on controller PriceComparison.Api.Controllers.BarcodeController (PriceComparison.Api).
2025-08-29 00:16:01.379 +03:00 [INF] מתחיל בדיקת ברקוד: 7290000176413
2025-08-29 00:16:01.379 +03:00 [INF] תוצאת בדיקת ברקוד 7290000176413: true
2025-08-29 00:16:01.380 +03:00 [INF] Executing OkObjectResult, writing value of type 'PriceComparison.Application.DTOs.BarcodeValidationResponseDto'.
2025-08-29 00:16:01.381 +03:00 [INF] Executed action PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api) in 3.6139ms
2025-08-29 00:16:01.383 +03:00 [INF] Executed endpoint 'PriceComparison.Api.Controllers.BarcodeController.ValidateBarcode (PriceComparison.Api)'
2025-08-29 00:16:01.384 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5162/api/barcode/validate - 200 null application/json; charset=utf-8 10.8759ms
2025-08-29 00:16:01.386 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5162/api/pricecomparison/search-local - null null
2025-08-29 00:16:01.387 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:16:01.388 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5162/api/pricecomparison/search-local - 204 null null 2.2891ms
2025-08-29 00:16:01.391 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5162/api/pricecomparison/search-local - application/json 27
2025-08-29 00:16:01.392 +03:00 [INF] CORS policy execution successful.
2025-08-29 00:16:01.394 +03:00 [INF] Executing endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api)'
2025-08-29 00:16:01.395 +03:00 [INF] Route matched with {action = "SearchProductByBarcodeLocal", controller = "PriceComparison"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PriceComparison.Application.DTOs.PriceComparisonResponseDto]] SearchProductByBarcodeLocal(PriceComparison.Application.DTOs.BarcodeSearchRequestDto) on controller PriceComparison.Api.Controllers.PriceComparisonController (PriceComparison.Api).
2025-08-29 00:16:01.398 +03:00 [INF] מתחיל חיפוש מקומי עבור ברקוד: 7290000176413
2025-08-29 00:16:01.399 +03:00 [INF] מחפש ברקוד: 7290000176413
2025-08-29 00:16:01.399 +03:00 [WRN] אין נתונים זמינים לחיפוש. מנסה לטעון...
2025-08-29 00:16:01.400 +03:00 [INF] מתחיל טעינת נתונים מ-XmlFileManager
2025-08-29 00:16:01.400 +03:00 [INF] מתחיל טעינת קבצי XML מהתיקייה: LocalXmlData
2025-08-29 00:16:01.401 +03:00 [INF] נמצאו 6 קבצי XML בתיקייה
2025-08-29 00:16:01.469 +03:00 [WRN] נכשל בטעינת קובץ PriceFull7290027600007-001-202508070300.xml: 
2025-08-29 00:16:01.505 +03:00 [INF] נטענו 1791 מוצרים עם ברקוד מקובץ PriceFull7290058108879-339-202508071024.xml
2025-08-29 00:16:01.575 +03:00 [INF] נטענו 4167 מוצרים עם ברקוד מקובץ PriceFull7290058156016-264-202508071028.xml
2025-08-29 00:16:01.581 +03:00 [INF] טעינה הושלמה: 4965 ברקודים ייחודיים מ-2 קבצים
2025-08-29 00:16:01.588 +03:00 [INF] טעינה הושלמה: 5958 מוצרים, 4965 ברקודים ייחודיים, 1 רשתות, 2 סניפים
2025-08-29 00:16:01.592 +03:00 [INF] נמצאו 2 מוצרים עבור ברקוד: 7290000176413
2025-08-29 00:16:01.597 +03:00 [INF] תוצאות חיפוש מקומי עבור ברקוד 7290000176413: true, 2 מוצרים
2025-08-29 00:16:01.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'PriceComparison.Application.DTOs.PriceComparisonResponseDto'.
2025-08-29 00:16:01.604 +03:00 [INF] Executed action PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api) in 207.4713ms
2025-08-29 00:16:01.605 +03:00 [INF] Executed endpoint 'PriceComparison.Api.Controllers.PriceComparisonController.SearchProductByBarcodeLocal (PriceComparison.Api)'
2025-08-29 00:16:01.606 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5162/api/pricecomparison/search-local - 200 null application/json; charset=utf-8 215.295ms
